function base_url(e){return null==e&&(e=null),$('meta[name="base_url"]').attr("content")+e+"/"}function uniqueId(e=!1){let n="";return e&&(n+="_"),n+=Math.random().toString(36).substr(2,9)}function ajax_data_modal(e){$.ajax({url:e,type:"GET",processData:!1,contentType:!1}).done(function(e){$("#modalAjax").first().modal("show").find(".modal-body").html(e)})}function message(e,n){const a=$("#alertMessage").first();a.removeClass("alert-success").removeClass("alert-danger").addClass(`alert-${e}`).slideDown(750).find("p").text(n),setTimeout(function(e){a.click()},4e3),a.click(function(e){$(this).slideUp(750)})}function mini_loading(e,n,a){e=$(e);a=null!=a?'<i class="'+a+'"></i>':null,"show"==n?(e.attr("disabled","disabled"),e.children("svg").remove(),e.prepend('<i class="fa fa-spinner mini-loader"></i>')):(e.removeAttr("disabled"),e.children("svg").remove(),e.prepend(a))}function loading(e,n){null!=n&&n||(n="CARREGANDO"),$("#loading p").html(n),"show"==e?$("#loading").removeClass("d-none"):$("#loading").addClass("d-none")}$.ajaxSetup({headers:{isAjax:!0,"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(document).ready(function(){function e(e,n=!1){return mini_loading(n,"hidden"),1==e.success?(null!=e.redirect&&e.redirect&&(window.location.href=e.redirect),null!=e.message&&e.message&&message("success",e.message),!0):"login"==e.message?ajax_data_modal(e.redirect):(null!=e.message&&message("danger",e.message),!1)}$("body").on("submit","form.ajax",function(n){n.preventDefault();var a=$(this),t=a.attr("action"),s=a.find('button[type="submit"]'),i=new FormData($(this)[0]);mini_loading(s,"show"),$.ajax({url:t,type:"POST",data:i,dataType:"json",processData:!1,contentType:!1}).done(function(n){return e(n,s)}).fail(function(n){return n.responseJSON.success=!1,e(n.responseJSON,s)})}),$("[data-modal]").on("click",function(e){e.preventDefault(),ajax_data_modal($(this).attr("data-modal"))}),$(".btn-share").click(function(){var e=screen.width/2-300,n=screen.height/2-200,a=$(this).data("href");window.open(a,"","width=600, height=400, top="+n+", left="+e)})});
